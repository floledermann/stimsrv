{% extends "base.html" %}

{% block title %}{{ experiment.name }}{% endblock %}

{% block bodyclass %}{% for role in roles %}has-role-{{role}} {% endfor %}{% endblock %}

{% block body %}
<style>
#bangbox {
  width: 100px;
  height: 100px;
  border: 1px solid #000;
}
</style>

<section class="role-display">

<button id="bang">Bang</button>
<div id="bangbox"></id>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io.connect();

let bangbox = document.querySelector("#bangbox");

document.querySelector("#bang").addEventListener("mousedown", () => {
  socket.emit("bang", {});
});

socket.on("bang", (data) => {
  bangbox.style.backgroundColor = "#ff0000";
  setTimeout(function() {
    bangbox.style.backgroundColor = "#ffffff";
  }, 100);
});
</script>

</section>
{% endblock %}